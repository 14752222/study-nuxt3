 ```js

const counter = useState("counter", () => Math.round(Math.random() * 100));
const counterRef = ref(Math.round(Math.random() * 100));
 ```

使用ref 如果服务端和客户端结果不一致一些问题


## pinia 使用

安装pinia 
```shell
yarn add @pinia/nuxt
```

在nuxt.config.js 中添加
```js
//方法一 自动导入方法
export default defineNuxtConfig({
    devtools: {enabled: true},
    modules: [
        ["@pinia/nuxt", {
            autoImports: [
                'defineStore',
                'storeToRefs',
            ],
        }],
    ]
})
//方法二 不自动导入方法
export default defineNuxtConfig({
    devtools: {enabled: true},
    buildModules: [
        "@pinia/nuxt",
    ]
})
```


创建 store 文件夹

创建 index.ts

```js

import { defineStore } from 'pinia'

export const useCounterStore = defineStore('counter',{
    state: () => ({
        count: 0,
    }),
    getters: {
        doubleCount: (state) => state.count * 2,
    },
    actions: {
        increment() {
            this.count++
        },
    },
})

```

使用pinia
```vue

<script setup lang="ts">
import {useCounterStore} from '~/store'

const counterStore = useCounterStore()
const {count} = storeToRefs(counterStore)
console.log(count)
count.value++
</script>
```
